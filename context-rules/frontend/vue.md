# vue.md

> **Important for All Developers and AI Agents:**
>
> - **Do not change the appearance, behavior, or styles of existing components unless explicitly requested.**
> - **By default, only improve docstrings, section comments, and code organization.**
> - **All AI-generated code must be reviewed to ensure it adheres to these standards before merging or committing.**
> - **If you are using an AI agent (such as Cursor), it is sufficient to instruct it:**
>   > Please follow the standards in `vue.md` (in `/context-rules/frontend/`)
>
> This ensures that all code—whether written by humans or generated by AI—remains consistent, maintainable, and high quality.

This document defines Vue 3 component development standards for the **Pin-a-Tree** application.

---

## ✅ Component Structure

Every Vue component must use the Composition API and follow this consistent structure:

```vue
<script setup>
/**
 * ComponentName Component
 *
 * Short and clear description of what this component does and its purpose.
 *
 * Features:
 * - Feature 1
 * - Feature 2
 * - Accessibility or UX consideration
 *
 * Props:
 * @prop {Type} propName - Description of propName
 *
 * Events:
 * @emits {Type} eventName - When and why it's emitted
 *
 * Slots:
 * @slot name - Description
 */

// Vue imports
import { ref, computed, watch } from 'vue';

// Component imports
import BaseCard from '@/components/base/BaseCard.vue';

// Composable imports
import { useSomething } from '@/composables/useSomething';

// Store imports
import { useExampleStore } from '@/stores/exampleStore';

// ============================================================================
// PROPS & EMITS
// ============================================================================

const props = defineProps({
  // Props here
});

const emit = defineEmits(['eventName']);

// ============================================================================
// REACTIVE STATE
// ============================================================================

const state = ref(null);

// ============================================================================
// COMPOSABLES
// ============================================================================

const { someFunction } = useSomething();

// ============================================================================
// COMPUTED PROPERTIES
// ============================================================================

const computedValue = computed(() => {
  // logic
});

// ============================================================================
// WATCHERS
// ============================================================================

watch(() => props.someProp, (newValue) => {
  // logic
});

// ============================================================================
// EVENT HANDLERS
// ============================================================================

const handleClick = () => {
  // emit or do something
  emit('eventName');
};
</script>

<template>
  <div class="component-name">
    <!-- Template with root class matching file name -->
  </div>
</template>

<style scoped lang="scss">
@use '@/assets/styles/variables' as variables;

.component-name {
  // BEM-style rules
  &__element {
    // nested styles
  }

  &--modifier {
    // variant styles
  }
}
</style>
```

---

## ✅ Documentation Guidelines

Each component must begin with a complete docstring block including:

- **Component name**
- **Description**
- **Features**
- **Props** (with types and default values)
- **Events**
- **Slots**
- **Usage example (optional)**

---

## ✅ File and Naming Rules

- Component file names use **PascalCase**.
- Root element in the template must use the **kebab-case** version of the component name as its class.
- This root class must be the main scoped style target in the `<style>` section.

---

## ✅ Code Section Order

Always use the following order for organization:

1. Vue Imports
2. Component Imports
3. Composable Imports
4. Store Imports
5. PROPS & EMITS
6. REACTIVE STATE
7. COMPOSABLES
8. COMPUTED PROPERTIES
9. WATCHERS
10. EVENT HANDLERS

Use this comment block to separate sections:

```js
// ============================================================================
// SECTION NAME
// ============================================================================
```

---

## ✅ Import Rules

- Use absolute imports (`@/`) for all internal modules.
- Organize by group: Vue → Components → Composables → Stores → Utils.
- Alphabetize imports within each group.
- Leave a blank line between each group.

---

## ✅ Template Rules

- Use semantic HTML elements.
- Keep logic minimal in templates.
- All conditionals (`v-if`, `v-show`) must be justified with comments if non-obvious.
- Use descriptive slot naming and clearly scoped slots.

---

## ✅ Styling Rules

- Use `scoped` styles always.
- Class names follow **BEM** methodology.
- The root class in styles must match the component name (`kebab-case`).
- SCSS only, with `@use` for variables and mixins.
- No global styles unless absolutely necessary.

Example:

```scss
.component-name {
  display: flex;

  &__label {
    font-size: 14px;
  }

  &--disabled {
    opacity: 0.5;
  }
}
```

---

## ✅ Best Practices

- **Keep logic modular** by using composables for shared behavior.
- **Accessibility**: use focus management, keyboard support, and semantic roles.
- **Performance**: leverage computed properties, memoization, and only watch what's necessary.
- **Reusability**: prefer base or composite components if reused more than twice.
- **Testing**: components with logic must be covered by at least basic unit tests.

---

## ✅ When to Update this Document

- New coding patterns are introduced
- Major refactor or tech changes in the frontend stack
- Feedback from dev team or PR review leads to standard changes
